{"version":3,"file":"static/development/pages/product.js","sources":["webpack:///webpack/bootstrap","webpack:///./API/REST/main.js","webpack:///./API/REST/products.js","webpack:///./API/config.js","webpack:///./API/index.js","webpack:///./bus/product/actions.js","webpack:///./bus/product/types.js","webpack:///./bus/products/actions.js","webpack:///./bus/products/types.js","webpack:///./components/Product/index.js","webpack:///./components/Products/index.js","webpack:///./components/index.js","webpack:///./pages/product.js","webpack:///external \"@babel/runtime/regenerator\"","webpack:///external \"immutable\"","webpack:///external \"isomorphic-unfetch\"","webpack:///external \"next/link\"","webpack:///external \"react\"","webpack:///external \"react-redux\""],"sourcesContent":[" \t// The module cache\n \tvar installedModules = require('../../../ssr-module-cache.js');\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tvar threw = true;\n \t\ttry {\n \t\t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n \t\t\tthrew = false;\n \t\t} finally {\n \t\t\tif(threw) delete installedModules[moduleId];\n \t\t}\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, { enumerable: true, get: getter });\n \t\t}\n \t};\n\n \t// define __esModule on exports\n \t__webpack_require__.r = function(exports) {\n \t\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n \t\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n \t\t}\n \t\tObject.defineProperty(exports, '__esModule', { value: true });\n \t};\n\n \t// create a fake namespace object\n \t// mode & 1: value is a module id, require it\n \t// mode & 2: merge all properties of value into the ns\n \t// mode & 4: return value when already ns object\n \t// mode & 8|1: behave like require\n \t__webpack_require__.t = function(value, mode) {\n \t\tif(mode & 1) value = __webpack_require__(value);\n \t\tif(mode & 8) return value;\n \t\tif((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;\n \t\tvar ns = Object.create(null);\n \t\t__webpack_require__.r(ns);\n \t\tObject.defineProperty(ns, 'default', { enumerable: true, value: value });\n \t\tif(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));\n \t\treturn ns;\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = 4);\n","import { Products } from './products';\n\nexport default new class Api {\n    products = new Products();\n}();\n","//Core\nimport fetch from 'isomorphic-unfetch';\n\n// Instruments\nimport { MAIN_URL, token } from '../config';\n\nexport class Products {\n    async get () {\n        const response = await fetch(`${MAIN_URL}/products?token=${token}`);\n\n        const { products, message } = await response.json();\n\n        if (response.status !== 200) {\n            throw new Error(message);\n        }\n\n        return products;\n    }\n\n    async getOne (slug) {\n        const response = await fetch(`${MAIN_URL}/products/${slug}?token=${token}`);\n\n        const product = await response.json();\n\n        if (response.status !== 200) {\n            throw new Error('Error get one Product');\n        }\n\n        return product;\n    }\n}\n","// Config\nexport const ROOT_URL = 'http://localhost:3000';\nexport const MAIN_URL = `${ROOT_URL}/api/v1`;\nexport const token = '6590b78249859f69e93a405f01cefadb63e14930e1e855d7';\n","export { invite, groupId, MAIN_URL, ROOT_URL } from './config';\nexport { default as api } from './REST/main';\n","// Types\nimport { types } from './types';\n\n//Async\nexport const getProductAsync = (slug) => {\n    return {\n        type:    types.GET_PRODUCT_ASYNC,\n        payload: slug,\n    };\n};\n\n//Sync\nexport const getProdyct = (product) => {\n    return {\n        type:    types.GET_PRODUCT,\n        payload: product,\n    };\n};\n\n//Server\n\nexport const getProdyctServer = (slug) => ({\n    type:    types.GET_PRODUCT_SERVER,\n    payload: slug,\n});\n","export const types = Object.freeze({\n    //Async\n    GET_PRODUCT_ASYNC: 'GET_PRODUCT_ASYNC',\n\n    //Sync\n    GET_PRODUCT: 'GET_PRODUCT',\n\n    //Server\n    GET_PRODUCT_SERVER: 'GET_PRODUCT_SERVER',\n});\n","// Types\nimport { types } from './types';\n\n//Async\nexport const getProductsAsync = () => {\n    return {\n        type: types.GET_PRODUCTS_ASYNC,\n    };\n};\n\nexport const getProductsFilterAsync = (filter) => {\n    return {\n        type: types.GET_PRODUCTS_FILTER_ASYNC,\n        payload: filter,\n    };\n};\n\n//Sync\nexport const getProdyctsFilter = (products) => {\n    return {\n        type:    types.GET_PRODUCTS_FILTER,\n        payload: products,\n    };\n};\n\n//Server\nexport const getProdyctsServer = (products) => ({\n    type:    types.GET_PRODUCTS_SERVER,\n    payload: products,\n});\n","export const types = Object.freeze({\n    //Async\n    GET_PRODUCTS_ASYNC:        'GET_PRODUCTS_ASYNC',\n    GET_PRODUCTS_FILTER_ASYNC: 'GET_PRODUCTS_FILTER_ASYNC',\n\n    //Sync\n    GET_PRODUCTS:        'GET_PRODUCTS',\n    GET_PRODUCTS_FILTER: 'GET_PRODUCTS_FILTER',\n\n    //Server\n    GET_PRODUCTS_SERVER: 'GET_PRODUCTS_SERVER',\n});\n","//Core\nimport React, { Component } from 'react';\nimport { connect } from 'react-redux';\nimport Link from 'next/link';\n\n//Actions\nimport { getProductAsync } from '../../bus/product/actions';\n\n//Instrumetns\nimport { fromJS } from 'immutable';\n\nconst mapState = (state) => {\n    return {\n        product: fromJS(state.product),\n    };\n};\n\nexport default\n@connect(\n    mapState,\n    { getProductAsync }\n)\nclass Product extends Component {\n    componentDidMount () {\n\n        // const { isServer, query } = this.props;\n        // const { slug } = this.props.query;\n        //\n        // if (!isServer) {\n        //     this.props.getProductAsync(slug);\n        // }\n    }\n\n    render () {\n        const { product } = this.props;\n\n        return (\n            <div>\n                <h2>{product.get('name')}</h2>\n\n                <div className = 'image_profuct'>\n                    <img alt = '' src = { product.getIn(['master', 'images', 0,  'large_url']) } />\n                </div>\n\n\n                <Link href = '/'>\n                    <a>Home</a>\n                </Link>\n            </div>\n\n        );\n    }\n}\n","//Core\nimport React, { Component } from 'react';\nimport { connect } from 'react-redux';\n\n//Instrumetns\nimport Link from 'next/link';\nimport { getProductsAsync, getProductsFilterAsync } from '../../bus/products/actions';\nimport { fromJS } from 'immutable';\n\nconst mapState = (state) => {\n    return {\n        products: fromJS(state.products),\n    };\n};\n\n\nexport default\n@connect(\n    mapState,\n    { getProductsAsync, getProductsFilterAsync }\n)\nclass Products extends Component {\n\n    componentDidMount () {\n        // const { isServer } = this.props;\n        //\n        // if (!isServer) {\n        //     this.props.getProductsAsync();\n        // }\n    }\n    _getProductsFilterAsync = (event, num) => {\n        event.preventDefault();\n\n        this.props.getProductsFilterAsync(num);\n    };\n\n    render () {\n        const { products } = this.props;\n\n        return (\n            <div>\n                <h2>Products</h2>\n                <ul>\n                    <li><a\n                        href = { `javascript:void` }\n                        onClick = { (e) => {\n                            this._getProductsFilterAsync(e, 6);\n                        } }>Filter1</a></li>\n                    <li><a\n                        href = { `javascript:void` }\n                        onClick = { (e) => {\n                            this._getProductsFilterAsync(e, 11);\n                        } }>Filter2</a></li>\n                    <li><a\n                        href = { `javascript:void` }\n                        onClick = { (e) => {\n                            this._getProductsFilterAsync(e, 4);\n                        } }>Filter3</a></li>\n                </ul>\n                <ul>\n                    { products.map((product, index) => (\n                        <li key = { `productList${index}` }>\n                            <Link\n                                as = { `/product/${product.get('slug')}` }\n                                href = { `/product?slug=${product.get('slug')}` }>\n                                <a>{product.get('name')}</a>\n                            </Link>\n                            <p>\n                                <img alt = '' src = { product.getIn(['master', 'images', 0, 'small_url']) } />\n                            </p>\n                        </li>)\n                    )}\n                </ul>\n            </div>\n\n        );\n    }\n}\n","import Products from './Products';\nimport Product from './Product';\n\nexport {\n    Products,\n    Product\n};\n","//Core\nimport React, { Component, Fragment } from 'react';\n\n//Components\nimport { Product } from '../components';\n\n//Instruments\nimport { api } from '../API';\nimport { getProdyctServer } from '../bus/product/actions';\n\nexport default class ProductPage extends Component {\n\n    static async getInitialProps ({ reduxStore, req, query }) {\n        const isServer = Boolean(req);\n        const { slug } = query;\n\n        const product = await api.products.getOne(slug);\n        await reduxStore.dispatch(getProdyctServer(product));\n\n        return { isServer, query };\n    }\n\n    render () {\n        return (\n            <Fragment>\n                <h1>Product</h1>\n                <Product {...this.props} />\n            </Fragment>\n        );\n    }\n}\n","module.exports = require(\"@babel/runtime/regenerator\");","module.exports = require(\"immutable\");","module.exports = require(\"isomorphic-unfetch\");","module.exports = require(\"next/link\");","module.exports = require(\"react\");","module.exports = require(\"react-redux\");"],"mappings":";;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;;;;;;;;;;ACxFA;AACA;;;AACA;AAAA;AACA;AADA;AAAA;AACA;;;;;;;;;;;;;;;;;;;;;;ACFA;AACA;AAEA;AACA;;;;;;;;;;;;;AACA;;;;;;;;;;;;;;;;;;;;AAEA;AACA;;AADA;;AAEA;AACA;;;AADA;AAAA;AACA;AACA;;;;;AACA;AACA;;AAEA;AACA;;;;;;;;;;;;;;;;;;AAEA;;;;;;;AACA;AACA;;AADA;;AAEA;AACA;;AADA;AACA;AACA;;;;;AACA;AACA;;AAEA;AACA;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AC7BA;AACA;;AACA;;AACA;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;ACHA;AACA;AAAA;AACA;;;;;;;;;;;;;;;;;;;;ACDA;AACA;AAFA;AAGA;AACA;AACA;AACA;AACA;AAFA;AAIA;AACA;AACA;;;AACA;AACA;AACA;AACA;AAFA;AAIA;AACA;AACA;;;AAEA;AAAA;AACA;AACA;AAFA;AAAA;AACA;;;;;;;;;;;;;;;;;;;ACtBA;AACA;AACA;AAEA;AACA;AAEA;AACA;AARA;;;;;;;;;;;;;;;;;;;;ACCA;AACA;AAFA;AAGA;AACA;AACA;AACA;AADA;AAGA;AACA;;;AACA;AACA;AACA;AACA;AAFA;AAIA;AACA;AACA;;;AACA;AACA;AACA;AACA;AAFA;AAIA;AACA;AACA;;;AACA;AAAA;AACA;AACA;AAFA;AAAA;AACA;;;;;;;;;;;;;;;;;;;AC3BA;AACA;AACA;AACA;AAEA;AACA;AACA;AAEA;AACA;AAVA;;;;;;;;;;;;;;;;;;;;ACCA;AACA;AAAA;AACA;AAAA;AACA;AAEA;AACA;AAEA;AACA;;;;;;;;;;;;;;;;;;;;;;;;;AACA;AACA;AACA;AADA;AAGA;AACA;AAMA;AAFA;AAAA;;;;;;;;;;;;;AAGA;AAGA;AACA;AACA;AACA;AACA;AACA;;;AAEA;AAAA;AAGA;AAIA;AAAA;AACA;AAAA;AAAA;AAIA;AAAA;AAMA;;;;AA7BA;;;;;;;;;;;;;;;;;;;;ACrBA;AACA;AAAA;AACA;AAEA;AACA;AAAA;AACA;AAAA;AACA;;;;;;;;;;;;;;;;;;;;;;;;;AACA;AACA;AACA;AADA;AAGA;AACA;AAOA;AAFA;AAAA;AAAA;;;;;;;;;;;;;;;;;;AAWA;AACA;AACA;AACA;AACA;AACA;;;;;;AAZA;AAEA;AACA;AACA;AACA;AACA;;;AAOA;AAAA;AACA;AADA;AAGA;AAKA;AACA;AACA;AACA;AAJA;AAMA;AACA;AACA;AACA;AAJA;AAMA;AACA;AACA;AACA;AAJA;AAOA;AACA;AAAA;AAEA;AACA;AAFA;AAMA;AAAA;AAAA;AARA;AAgBA;;;;AAvDA;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;ACrBA;AACA;AAAA;AACA;;;;;;;;;;;;;;;;;;;;;;ACDA;AACA;AAEA;AACA;AAEA;AACA;AAAA;AACA;;;;;;;;;;;;;;;;;;;;;;;;;;;AACA;;;;;;;;;;;;;AAYA;AACA;AAMA;;;;;;;;;;;;AAjBA;AACA;AACA;;AAEA;AACA;;AADA;;AACA;AACA;;AACA;AAAA;AAAA;AAAA;AACA;;;;;;;;;;;;;;;;AAVA;AACA;;;;;;;;;;;;;;;;;;;;;;;;ACXA;;;;;;;;;;;ACAA;;;;;;;;;;;ACAA;;;;;;;;;;;ACAA;;;;;;;;;;;ACAA;;;;;;;;;;;ACAA;;;;A","sourceRoot":""}